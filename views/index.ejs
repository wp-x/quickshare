<%- include('partials/header', { title }) %>

<div class="hero-section">
  <!-- Background video -->
  <video autoplay muted loop playsinline class="hero-video">
    <source src="https://cdn.animatex.io/static/hero-videos/hero-bg-lossless.webm" type="video/webm"/>
    <source src="https://cdn.animatex.io/static/hero-videos/hero-bg.mp4" type="video/mp4"/>
  </video>
  <div class="hero-overlay"></div>
  
  <!-- Navigation -->
  <nav class="hero-nav">
    <div class="nav-brand">
      <div class="brand-logo">
        <i class="fas fa-code brand-icon"></i>
        <span class="brand-text">QuickShare</span>
      </div>
    </div>
    <div class="nav-actions">
      <% if (userType === 'admin') { %>
        <a href="/admin" class="nav-link admin-link">
          <i class="fas fa-cogs"></i>
          管理页面
        </a>
      <% } %>
    </div>
  </nav>
  
  <!-- Hero content -->
  <div class="hero-content">
    <div class="hero-text">
      <h1 class="hero-title">Share. Create. Inspire</h1>
      <p class="hero-subtitle">
        分享AI生成内容的最佳方式 - 支持HTML、Markdown、SVG、Mermaid等多种格式
      </p>
    </div>

    <!-- Main input area -->
    <div class="main-input-area">
      <div class="glass-card input-card">
        <!-- Loading indicator -->
        <div id="loading-indicator" class="loading-indicator">
          <div class="spinner"></div>
          <span>处理中...</span>
        </div>
        
        <!-- Search-like input container -->
        <div class="search-input-container">
          <div class="search-icon">
            <i class="fas fa-code"></i>
          </div>
          <div id="code-type-indicator" class="code-type-badge html-type">
            <span id="code-type-text">HTML</span>
          </div>
          <textarea id="html-input" class="main-input" placeholder="粘贴你的 HTML/Markdown/SVG/Mermaid 代码..." aria-label="代码输入区域"></textarea>
          <button id="generate-button" class="generate-btn">
            生成链接
            <i class="fas fa-arrow-right"></i>
          </button>
        </div>
        
        <!-- Additional controls -->
        <div class="input-controls">
          <input id="html-file" type="file" class="hidden" accept=".html,.htm" aria-label="上传文件" />
          <div class="control-buttons">
            <label for="html-file" class="control-btn upload-btn">
              <i class="fas fa-upload"></i>
              上传文件
            </label>
            <button id="clear-button" class="control-btn clear-btn">
              <i class="fas fa-trash"></i>
              清空
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Result section -->
    <div id="result-section" class="glass-card result-card" style="display: none;" aria-live="polite">
      <div class="result-header">
        <h3 class="result-title">🎉 链接已生成</h3>
      </div>
      
      <div class="result-content">
        <div class="result-url-container">
          <div id="result-url" class="result-url" tabindex="0"></div>
          <div class="url-actions">
            <button id="copy-button" class="action-btn copy-btn" data-tooltip="复制链接">
              <i class="fas fa-copy"></i>
            </button>
            <button id="preview-button" class="action-btn preview-btn" data-tooltip="预览">
              <i class="fas fa-external-link-alt"></i>
            </button>
          </div>
        </div>
        
        <!-- Password protection toggle -->
        <div class="password-section">
          <div class="password-toggle-row">
            <div class="toggle-info">
              <i class="fas fa-lock password-icon"></i>
              <span class="toggle-label">密码保护</span>
            </div>
            <div class="modern-switch">
              <input type="checkbox" id="password-toggle" class="switch-input">
              <label for="password-toggle" class="switch-slider"></label>
            </div>
          </div>
          
          <div id="password-info" class="password-details" style="display: none;">
            <div class="password-display">
              <span class="password-label">访问密码:</span>
              <span id="generated-password" class="password-value" title="点击复制密码"></span>
              <button id="copy-password-btn" class="copy-password-btn">
                <i class="fas fa-copy"></i>
              </button>
            </div>
            <a href="#" id="copy-password-link" class="copy-all-link">复制密码和网址</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<%- include('partials/footer') %>
